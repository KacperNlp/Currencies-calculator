(this.webpackJsonpcurrenciec=this.webpackJsonpcurrenciec||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(5),s=c.n(a),u=(c(11),c(2)),i=c(4),j=c.n(i),o=c(6),b=c(0),l={baseCurrency:"USD",restCurrencies:[],converter:1,errorWithAPI:!1},h=function(){var e=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.exchangeratesapi.io/latest?base="+t).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(n.createContext)(l),d=function(e){var t=e.children,c=Object(n.useContext)(O),r=c.baseCurrency,a=c.restCurrencies,s=c.converter,i=c.errorWithAPI,j=Object(n.useState)(r),o=Object(u.a)(j,2),l=o[0],d=o[1],f=Object(n.useState)(a),x=Object(u.a)(f,2),v=x[0],m=x[1],p=Object(n.useState)(s),y=Object(u.a)(p,2),C=y[0],g=y[1],N=Object(n.useState)(i),_=Object(u.a)(N,2),S=_[0],w=_[1],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=h(e);t.then((function(e){m(e.rates),w(!1)})).catch((function(e){w(!0)}))};return Object(n.useEffect)(P,[]),Object(b.jsx)(O.Provider,{value:{baseCurrency:l,currencies:v,converter:C,errorWithAPI:S,handleUpdateBaseCurrency:function(e){d(e)},handleUpdateCurrencies:function(e){P(e)},handleChangeConverter:function(e){g(e)}},children:t})},f=(c(14),function(){var e=Object(n.useContext)(O).baseCurrency;return Object(b.jsx)("div",{className:"active-currency",children:Object(b.jsxs)("p",{className:"active-currency__text",children:["Active currrency:",Object(b.jsx)("span",{className:"active-currency__currency",children:e})]})})}),x=(c(15),function(){var e=Object(n.useContext)(O),t=e.currencies,c=e.baseCurrency,r=e.handleUpdateBaseCurrency,a=e.handleUpdateCurrencies,s=Object(n.useState)(c),i=Object(u.a)(s,2),j=i[0],o=i[1],l=Object.keys(t).map((function(e){return[String(e)]})).map((function(e){return Object(b.jsx)("option",{value:e[0],children:e[0]},e[0])}));return Object(b.jsxs)("form",{className:"base-currency-form",onSubmit:function(e){e.preventDefault(),r(j),a(j)},children:[Object(b.jsx)("select",{className:"base-currency-form__selector",name:"currency",value:j,onChange:function(e){var t=e.target.value;o(t)},children:l}),Object(b.jsx)("input",{type:"submit",className:"button",value:"Set new currency"})]})}),v=(c(16),function(){var e=Object(n.useContext)(O),t=e.converter,c=e.handleChangeConverter,r=Object(n.useState)(t),a=Object(u.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)(!1),o=Object(u.a)(j,2),l=o[0],h=o[1],d=l?Object(b.jsx)("p",{className:"converter-form__warning",children:"You cannot pass negative value!"}):null;return Object(b.jsxs)("form",{className:"converter-form",onSubmit:function(e){e.preventDefault(),s>=0?(c(s),h(!1),i(0)):h(!0)},children:[Object(b.jsxs)("label",{children:[d,Object(b.jsx)("input",{type:"number",className:"converter-form__input",value:s,onChange:function(e){var t=e.target;return i(t.value)}})]}),Object(b.jsx)("input",{type:"submit",className:"button",value:"Set new converter"})]})}),m=function(e){var t=e.name,c=e.value;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t}),Object(b.jsx)("td",{children:c})]})},p=function(e){var t=e.tableRowsWithCurrencies;return Object(b.jsxs)("table",{className:"currencies-table",children:[Object(b.jsx)("thead",{className:"currencies-table__header",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Currency"}),Object(b.jsx)("th",{children:"Value"})]})}),Object(b.jsx)("tbody",{className:"currencies-table__body",children:t})]})},y=(c(17),function(){var e=Object(n.useContext)(O),t=e.currencies,c=e.converter,r=Object(n.useState)(""),a=Object(u.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)(""),o=Object(u.a)(j,2),l=o[0],h=o[1],d=Object.keys(t).map((function(e){return[String(e),parseFloat(t[e]).toFixed(2)]})).filter((function(e){var t=Number((e[1]*c).toFixed(2));if(e[1]=t,(""===l||e[0].includes(l))&&0!==t)return e})).map((function(e){return Object(b.jsx)(m,{name:e[0],value:e[1]},e[0])})),f=d.length>0?Object(b.jsx)(p,{tableRowsWithCurrencies:d}):Object(b.jsx)("p",{className:"currencies-table__message",children:"We didn't find any currenyc, sorry..."});return Object(b.jsxs)("section",{className:"table-with-currencies",children:[Object(b.jsx)("h2",{className:"table-with-currencies__header",children:"List of currencies:"}),Object(b.jsxs)("div",{className:"search",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("p",{className:"search__text",children:"Search currency:"}),Object(b.jsx)("input",{type:"search",className:"search__input",value:s,onChange:function(e){var t=e.target.value;i(t.toUpperCase())}})]}),Object(b.jsx)("button",{className:"fas fa-search button",onClick:function(){h(s),i("")}})]}),f]})}),C=(c(18),function(){return Object(b.jsx)("div",{className:"error",children:Object(b.jsx)("p",{className:"error__text",children:"Sorry, we have a problem with API, try again later :)"})})}),g=function(){var e=Object(n.useContext)(O),t=e.errorWithAPI,c=0===e.currencies.length?"not-visible":null;return t?Object(b.jsx)(C,{}):Object(b.jsxs)("main",{className:c,children:[Object(b.jsx)(f,{}),Object(b.jsx)(v,{}),Object(b.jsx)(x,{}),Object(b.jsx)(y,{})]})},N=function(){return Object(b.jsx)(d,{children:Object(b.jsx)(g,{})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),_()}],[[19,1,2]]]);
//# sourceMappingURL=main.85c97ccd.chunk.js.map